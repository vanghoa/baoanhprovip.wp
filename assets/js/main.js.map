{"version":3,"file":"main.js","sources":["../../src/js/main.js"],"sourcesContent":["'use strict';\n\n// binding method\nconst body = document.body;\nconst html = document.documentElement;\nconst main = $('main');\nconst mainbody = $('.mainbody');\nconst copy = $('#copy');\nconst imgcanvas = $('#preview');\n\n//\nconst rx = 2;\nconst ry = 1;\nconst ctx = imgcanvas.getContext('2d', { willReadFrequently: true });\nctx.fillStyle = '#e3e3ca';\nconst isDeveloper = isPage('page-developer');\nconst isDesigner = isPage('page-designer');\nconst isHome = isPage('home') || isPage('archive') || isDeveloper || isDesigner;\nconst isWork = isPage('single-work');\nconst rem = parseFloat(getComputedStyle(document.documentElement).fontSize);\nconst hratio = 2.1;\nconst scaleX = 7.4;\nconst scaleY = scaleX * hratio;\nconst widthLimit = scaleX * 35;\nlet lazyList = {};\nconst char = {\n  bg: '`',\n  bg2: '_',\n  trans: null,\n  // prettier-ignore\n  lbtn: nullifySpace([\n    ` █ `,\n    `█◄█`,\n    ` █ `,\n  ]),\n  // prettier-ignore\n  rbtn: nullifySpace([\n    ` █ `,\n    `█►█`,\n    ` █ `\n  ]),\n  idc: '●',\n  mouse: '█',\n  divider: '|',\n};\nconst cacheKey = {\n  imgH: { name: 'imgHolder', allkeys: [] },\n  storyS: { name: 'storySection' },\n};\nlet grayRamp = '█▒░@%*=--..__';\nconst grayRampObj = {\n  ...grayRamp.split('').reduce((p, c, i) => {\n    return {\n      ...p,\n      [c]: i,\n    };\n  }, {}),\n  [char.bg2]: grayRamp.length - 1,\n  [char.bg]: grayRamp.length - 3,\n};\nconst rampLength = grayRamp.length;\n\nfunction nullifySpace(arr) {\n  for (const i in arr) {\n    arr[i] = arr[i].split('');\n    for (const k in arr[i]) {\n      arr[i][k] == ` ` && (arr[i][k] = null);\n    }\n  }\n  return arr;\n}\n\nlet screenlength = 0;\nlet cmts = [];\nconst cmtsScreen = [];\nlet stopEvething = true;\n\nconst mainmainbody = $('#main .mainbody');\nconst mainnav = $('#main nav');\n{\n  // setup\n  const fragcopy = $createFrag();\n  for (const childElement of main.children) {\n    fragcopy.appendChild(childElement.cloneNode(true));\n  }\n  copy.appendChild(fragcopy);\n  //\n  reSetup();\n  //\n  if (window.location.hash == '#everything') {\n    const el = $('#main .everything');\n    if (el) {\n      mainmainbody.scrollTo({\n        top: el.offsetTop - mainnav.clientHeight,\n        left: 0,\n        behavior: 'smooth',\n      });\n    }\n  }\n}\n\nfunction reSetup() {\n  const newscreenlength = reMsrY(innerHeight);\n  if (newscreenlength !== screenlength) {\n    screenlength = newscreenlength;\n    const fragcmt = $createFrag();\n    cmts.forEach((cmt) => {\n      cmt.remove();\n    });\n    cmts = Array.from({ length: screenlength }, () => {\n      const cmt = $createcomment('');\n      fragcmt.append(cmt);\n      return cmt;\n    });\n    html.before(fragcmt);\n  }\n}\n\nfunction scrollToTop() {\n  mainmainbody.scrollTo({\n    top: 0,\n    left: 0,\n    behavior: 'smooth',\n  });\n}\nconst realh = $('#copy .realheight');\nconst realhmain = $('main .realheight');\nconst nav = $('#copy nav .bg-layer');\nconst navTxt = [...$$('#copy nav .txt-layer')];\nconst allBg2 = [\n  ...$$('#copy .mainbody .bg-layer'),\n  ...$$('#copy .mainbody .cp-layer > *'),\n  ...$$('#copy .odd-layer > :nth-child(even)'),\n];\nconst imgHolder = $('#copy .imgholder');\nconst imgHolderMain = $('#main .imgholder');\nconst allImgHomeMain = $$('#main .imgwrapper');\nconst allImgWrapper = [...$$('#copy .imgwrapper')];\nconst allImgHome = Array.from(allImgWrapper, (el, k) => {\n  const idc = el.nextElementSibling.querySelector(`.indicator`);\n  return {\n    el: el,\n    group: [...el.querySelectorAll('img')],\n    lbtn: el.nextElementSibling.querySelector('.lbtn svg'),\n    rbtn: el.nextElementSibling.querySelector('.rbtn svg'),\n    idc,\n    hoverlayer:\n      allImgHomeMain[k].nextElementSibling.querySelector('.hover-layer'),\n    hoverchild: el.nextElementSibling.querySelector('.hover-child'),\n    idcascii: idc && [\n      Array(idc.childElementCount).fill([char.idc, char.trans]).flat(),\n    ],\n  };\n});\nconst allImg = [...$$('#copy *:not(.imgwrapper-fixed) > img')];\nconst allImgMain = [...$$('#main *:not(.imgwrapper-fixed) > img')];\nconst allTxt = [\n  ...$$('#copy .mainbody .txt-layer'),\n  ...$$('#copy .mainbody .txtp-layer > *:not(figure)'),\n];\nconst allDivider = [...$$('#copy .divider')];\nconst storySection = {\n  img: [...$$('#copy .storysection .imgwrapper-fixed img')],\n  bg: $('#copy .storysection .bg-layer-fixed'),\n  txt: [...$$('#copy .storysection .txt-layer-fixed')],\n};\nconst homelist = [...$$('.homegrid + .homelist')];\nconst homegrid = homelist.map((el) => el.previousElementSibling);\nconst viewmode = {\n  gallery: $('#main .viewmode .galleryview'),\n  list: $('#main .viewmode .listview'),\n};\nviewmode.gallery &&\n  viewmode.list &&\n  (sessionStorage.getItem('viewmode') == 'list'\n    ? toggleViewmode()\n    : toggleViewmode(true));\nfunction toggleViewmode(isGallery) {\n  viewmode.gallery.classList.toggle('underline', isGallery);\n  viewmode.list.classList.toggle('underline', !isGallery);\n  homegrid.forEach((a) => a.classList.toggle('hidden', !isGallery));\n  homelist.forEach((a) => a.classList.toggle('hidden', isGallery));\n  sessionStorage.setItem('viewmode', isGallery ? 'gallery' : 'list');\n  duoResponsive();\n}\n\ngetScrollbarWidth();\nwindow.onload = duoResponsive;\nonresize = throttle_debounce(\n  function (isFinal) {\n    isFinal && getScrollbarWidth();\n    duoResponsive(isFinal);\n  },\n  100,\n  400\n);\n\nfunction setEvent(el, on, fn) {\n  if (fn) {\n    !el[on] && (el[on] = fn);\n  } else {\n    el[on] && (el[on] = null);\n  }\n}\n\nfunction mouseMove(e) {\n  if (stopEvething) {\n    return;\n  }\n  const mouseChange = calcMousePos(e);\n  if (!mouseChange || window.scrollTop == undefined) {\n    return;\n  }\n  const { mouseY: ogY, mouseX: ogX } = mouseChange;\n  if (ogY != undefined) {\n    const char = (() => {\n      let intensity = 0;\n      const fixedArr = window.fixedLayer?.[ogY];\n      if (fixedArr?.[ogX]) {\n        if (fixedArr[ogX].intensity) {\n          intensity = fixedArr[ogX].intensity;\n        } else {\n          return fixedArr?.[ogX];\n        }\n      }\n      const absArr = window.absoluteLayer?.[ogY + scrollTop];\n      if (absArr?.[ogX]) {\n        return filterGrayRamp(absArr[ogX], intensity);\n      }\n      const staticArr = canvasData[ogY + scrollTop]?.[ogX];\n      return staticArr ? filterGrayRamp(staticArr, intensity) : '';\n    })();\n\n    replaceChar(char, ogX, ogY);\n  }\n  //\n  replaceChar(char.mouse, window.mouseX, window.mouseY);\n\n  function replaceChar(char, x, y) {\n    const content = cmts[y]?.nodeValue;\n    content &&\n      x < content.length &&\n      (cmts[y].nodeValue = `${content.slice(0, x)}${char}${content.slice(\n        x + 1\n      )}`);\n  }\n}\n\nasync function scrollResponsive() {\n  if (stopEvething) {\n    return;\n  }\n  calcScrollTop();\n  for (const i in lazyList) {\n    await lazyList[i]();\n  }\n  cmtRenderScreen();\n}\n\nfunction mouseEnter(i) {\n  if (!window.imgsecs?.[i] || stopEvething) {\n    return;\n  }\n  const { hoverchild, hoverrect } = window.imgsecs[i];\n  window.imgsecs[i].isHover = true;\n  drawFewRect(window.absoluteLayer, [hoverchild], [hoverrect]);\n  drawTxt(window.absoluteLayer, [hoverchild]);\n  cmtRenderScreen();\n}\n\nfunction mouseLeave(i) {\n  if (!window.imgsecs?.[i]) {\n    return;\n  }\n  const { hoverchild, hoverrect } = window.imgsecs[i];\n  window.imgsecs[i].isHover = false;\n  drawFewRect(window.absoluteLayer, [hoverchild], [hoverrect], null);\n  cmtRenderScreen();\n}\n\nif (isHome) {\n  console.log('home page');\n\n  const imgwrappers = $$('main .homegrid .imgwrapper');\n  window.imgsecs = $$('main .homegrid .imgsec');\n  const projects = $$('main .homegrid .project');\n  const indicators = [];\n  window.curs = [];\n\n  let iscroll = 0;\n  let isPause = false;\n  /*\n  setInterval(() => {\n    if (isPause) {\n      return;\n    }\n    const length = imgwrappers[iscroll].childElementCount;\n    let cur = curs[iscroll];\n    let curnow = cur.value;\n    curnow = curnow >= length ? 1 : curnow + 1;\n    slide(iscroll, cur, curnow, length);\n  }, 3000);\n*/\n  imgsecs.forEach((el, i) => {\n    const imgwrapper = imgwrappers[i];\n    const length = imgwrapper.childElementCount;\n    indicators.push(imgsecs[i].querySelectorAll('.indicator li'));\n    curs.push({ value: 1 });\n    let cur = curs[i];\n    /*\n    projects[i].addEventListener('mouseenter', () => {\n      isPause = false;\n      iscroll = i;\n    });*/\n    el.addEventListener('click', function ({ target }) {\n      isPause = true;\n      let curnow = cur.value;\n      if (target.closest('.lbtn')) {\n        curnow = curnow <= 1 ? 1 : curnow - 1;\n      } else if (target.closest('.rbtn')) {\n        curnow = curnow >= length ? length : curnow + 1;\n      }\n      window.stopPrev = slideAscii(i, curnow - 1, cur.value - 1, 500);\n      slide(i, cur, curnow, length);\n    });\n  });\n  // eslint-disable-next-line no-inner-declarations\n  function slide(i, cur, curnow, length) {\n    if (cur.value !== curnow) {\n      imgsecs[i].setAttribute('isfirst', curnow == 1);\n      imgsecs[i].setAttribute('islast', curnow == length);\n      indicators[i][cur.value - 1].classList.add('opacity-50');\n      indicators[i][curnow - 1].classList.remove('opacity-50');\n      imgwrappers[i].style.transform = `translateX(-${(curnow - 1) * 100}%)`;\n      //\n      cur.value = curnow;\n    }\n  }\n} else if (isWork) {\n  console.log('single-work page');\n  const imgcopyarr = [];\n  {\n    const frag = $createFrag();\n    for (const img of allImg) {\n      const div = $create('div');\n      const imgcopy = img.cloneNode(true);\n      imgcopyarr.push(imgcopy);\n      div.appendChild(imgcopy);\n      frag.appendChild(div);\n    }\n    imgHolder.appendChild(frag);\n  }\n  {\n    const frag = $createFrag();\n    let curchild = null;\n\n    imgHolderMain.onclick = () => {\n      toggle(null, null);\n    };\n    for (const i in allImgMain) {\n      const img = allImgMain[i];\n      const div = $create('div');\n      const imgcopy = img.cloneNode(true);\n      img.copy = imgcopyarr[i];\n      const formattedKey = `${cacheKey.imgH.name}-${i}`;\n      cacheKey.imgH.allkeys.push(formattedKey);\n      img.onclick = () => {\n        toggle(img.copy, imgcopy, formattedKey);\n      };\n      div.appendChild(imgcopy);\n      frag.appendChild(div);\n    }\n    imgHolderMain.appendChild(frag);\n    // eslint-disable-next-line no-inner-declarations\n    async function toggle(curImgHolder, curImgHolderChild, key) {\n      curImgHolderChild && (curchild = curImgHolderChild);\n      imgHolderMain.classList[curImgHolder ? 'add' : 'remove']('open');\n      curchild.style.visibility = curImgHolder ? 'visible' : 'hidden';\n      window.curImgHolder = curImgHolder;\n      if (!stopEvething) {\n        await drawAbsoluteLayer(curImgHolder ? 3 : null, key);\n        cmtRenderScreen();\n      }\n    }\n  }\n}\n\nasync function drawAbsoluteLayer(intensity = 3, key, isFinal = true) {\n  const vl = intensity\n    ? {\n        intensity: 3,\n      }\n    : null;\n  window.fixedLayer = Array.from({ length: screenlength }, () =>\n    Array.from({ length: window.fixedLayer[0].length }, () => vl)\n  );\n  await drawNav(intensity, isFinal);\n  intensity &&\n    (window.imgHolder = await drawImg(\n      window.fixedLayer,\n      [window.curImgHolder],\n      canvas2CanvasArrNoMask.bind({ isOL: true }),\n      false,\n      key,\n      isFinal\n    ));\n}\n\nfunction stopSlideAscii() {\n  if (window.stopPrev) {\n    window.stopPrev();\n  }\n}\n\nfunction slideAscii(i, curnow, curprev, time) {\n  stopSlideAscii();\n  let stop = false;\n  if (!imgsecs[i].ascii || stop || curnow == curprev || !imgsecs[i].ascii.arr) {\n    return;\n  }\n  const delay_ = 100;\n  let { top, topbot, left, leftright, arr: ascii, baseW } = imgsecs[i].ascii;\n  // top += 1;\n  const lim = time / delay_;\n  let count = 1;\n  let myrequest = requestAnimationFrame(animation);\n  async function animation(now) {\n    const percentage = Math.round(\n      mapRange(count, 0, lim, curprev, curnow, easeInOut) * baseW\n    );\n    for (let y = top; y <= topbot; y++) {\n      for (let x = left; x <= leftright; x++) {\n        let newchar = canvasData[y]?.[x];\n        newchar !== char.bg &&\n          newchar &&\n          (newchar = ascii[y - top]?.[x - left + percentage] || newchar);\n        canvasData[y][x] = newchar;\n      }\n    }\n    cmtRenderScreen();\n    count++;\n    await wait(delay_);\n    if (!stop && imgsecs[i].ascii && count <= lim) {\n      myrequest = requestAnimationFrame(animation);\n    }\n  }\n  return () => {\n    stop = true;\n  };\n}\n\nfunction mapRange(\n  value,\n  inMin,\n  inMax,\n  outMin,\n  outMax,\n  easingFunction = (v) => v\n) {\n  let normalizedValue = (value - inMin) / (inMax - inMin);\n  let easedValue = easingFunction(normalizedValue);\n  return easedValue * (outMax - outMin) + outMin;\n}\n\nfunction easeInOut(t) {\n  return t < 0.5 ? 4 * t * t * t : -1 + (4 - 2 * t) * t;\n}\n\nfunction manualResponsive(el) {\n  const { clientWidth: w } = el;\n  el.className = `${w > 1536 ? 'xxl' : ''} ${w > 1280 ? 'xl' : ''} ${\n    w > 1024 ? 'lg' : ''\n  } ${w > 768 ? 'md' : ''} ${w > 640 ? 'sm' : ''}`;\n}\n\nasync function duoResponsivehtml2canvas() {\n  const originalDrawImage = ctx.drawImage;\n  ctx.drawImage = function (image, sx, sy, sw, sh, dx, dy, dw, dh) {\n    if (image instanceof HTMLImageElement) {\n      if (sw / dw < sh / dh) {\n        const _dh = dh;\n        dh = sh * (dw / sw);\n        dy = dy + (_dh - dh) / 2;\n      } else {\n        const _dw = dw;\n        dw = sw * (dh / sh);\n        dx = dx + (_dw - dw) / 2;\n      }\n    }\n    return originalDrawImage.call(ctx, image, sx, sy, sw, sh, dx, dy, dw, dh);\n  };\n  grayRamp = '█▒░@%*=--..__`';\n  const width = Math.max(outerWidth - innerWidth - 100, 0);\n  manualResponsive(main);\n  copy.style.width = `${width}px`;\n  manualResponsive(copy);\n  // canvas\n  const canvas = {\n    w: reMsrX(width),\n    h: reMsrY(realh.clientHeight),\n  };\n  canvas.data = Array.from({ length: canvas.h }, () =>\n    Array.from({ length: canvas.w }, () => char.bg)\n  );\n  imgcanvas.width = canvas.w;\n  imgcanvas.height = canvas.h;\n  ctx.fillStyle = '#f5f5e6';\n  ctx.fillRect(0, 0, canvas.w, canvas.h);\n  console.log(canvas.w, canvas.h);\n  await html2canvas(realh, {\n    canvas: imgcanvas,\n    scale: 1 / 7.3,\n    backgroundColor: null,\n    width: canvas.w,\n    height: canvas.h,\n    windowHeight: innerHeight / hratio,\n  });\n  const grayScales = convertToGrayScales(\n    ctx,\n    imgcanvas.width,\n    imgcanvas.height\n  );\n  const ascii = drawAscii(grayScales, imgcanvas.width);\n  console.log(ascii);\n  // final render\n  cmtRender(ascii);\n}\n\nasync function duoResponsive(isFinal = true) {\n  lazyList = {};\n  stopSlideAscii();\n  const width = Math.max(outerWidth - innerWidth - 100, 0);\n\n  if (width < widthLimit) {\n    window.canvasData = Array.from({ length: screenlength }, () =>\n      'This-is-too-small'.split('')\n    );\n    window.fixedLayer = Array.from({ length: screenlength }, () =>\n      Array.from({ length: 'This-is-too-small'.length }, () => null)\n    );\n    cmtRenderScreen();\n    stopEvething = true;\n    setEvent(mainbody, 'onscroll', null);\n    setEvent(document, 'onmousemove', null);\n    allImgHome.forEach(({ hoverlayer }) => {\n      if (!hoverlayer) {\n        return;\n      }\n      setEvent(hoverlayer, 'onmouseenter', null);\n      setEvent(hoverlayer, 'onmouseleave', null);\n    });\n    return;\n  }\n  reSetup();\n  stopEvething = false;\n  isFinal && console.log('responsive rerender');\n  copy.style.width = `${width}px`;\n  manualResponsive(copy);\n  // canvas\n  const canvas = {\n    w: reMsrX(width),\n    h: reMsrY(realh.clientHeight),\n  };\n  window.canvasData = Array.from({ length: canvas.h }, () =>\n    Array.from({ length: canvas.w }, () => char.bg)\n  );\n  window.absoluteLayer = Array.from({ length: canvas.h }, () =>\n    Array.from({ length: canvas.w }, () => char.trans)\n  );\n  window.fixedLayer = Array.from({ length: screenlength }, () =>\n    Array.from({ length: canvas.w }, () => char.trans)\n  );\n  window.hoverLayer = Array.from({ length: canvas.h }, () =>\n    Array.from({ length: canvas.w }, () => char.trans)\n  );\n  calcScrollTop();\n  // draw rects\n  // drawRect(window.canvasData, allBg2);\n  drawFewRect(window.canvasData, allBg2, null, char.bg2, isFinal);\n  // draw dividers\n  drawFewRect(window.canvasData, allDivider, null, char.divider, isFinal, {\n    rx_: 0,\n    ry_: 0,\n  });\n  // draw images\n  if (isFinal) {\n    if (isHome) {\n      await drawImgHome(window.canvasData, allImgHome);\n    } else {\n      await drawImg(\n        window.canvasData,\n        allImg,\n        canvas2CanvasArr.bind({ isOL: true }),\n        true\n      );\n    }\n  } else {\n    if (isHome) {\n      drawFewRect(window.canvasData, allImgWrapper, null, char.mouse, isFinal);\n    } else {\n      drawFewRect(window.canvasData, allImg, null, char.mouse, isFinal);\n    }\n  }\n  // draw text\n  drawTxt(window.canvasData, allTxt, isFinal);\n  // draw nav\n  isFinal &&\n    cacheKey.imgH.allkeys.forEach((key) => {\n      deleteCache(key);\n    });\n  isFinal && deleteCache(cacheKey.storyS.name);\n  await (window.curImgHolder\n    ? drawAbsoluteLayer(3, null, isFinal)\n    : drawNav(null, isFinal));\n  // final render\n  cmtRenderScreen();\n  // set event\n  isFinal && setEvent(mainbody, 'onscroll', scrollResponsive);\n  isFinal && setEvent(document, 'onmousemove', mouseMove);\n  isFinal &&\n    allImgHome.forEach(({ hoverlayer }, i) => {\n      if (!hoverlayer) {\n        return;\n      }\n      setEvent(hoverlayer, 'onmouseenter', () => mouseEnter(i));\n      setEvent(hoverlayer, 'onmouseleave', () => mouseLeave(i));\n    });\n}\n\nasync function drawNav(intensity = null, isFinal = true) {\n  drawFewRect(window.fixedLayer, [nav]);\n  drawTxt(window.fixedLayer, navTxt);\n  if (storySection.bg) {\n    const charbg = filterGrayRamp(char.bg2, intensity);\n    drawFewRect(window.fixedLayer, [storySection.bg], null, charbg, isFinal);\n    drawTxt(window.fixedLayer, storySection.txt);\n    const { display } = getComputedStyle(storySection.img[0].parentElement);\n    if (display != 'none') {\n      await drawImg(\n        window.fixedLayer,\n        storySection.img,\n        canvas2CanvasArr.bind({ isOL: false, intensityF: intensity, charbg }),\n        false,\n        cacheKey.storyS.name,\n        isFinal\n      );\n    }\n  }\n}\n\nfunction getRect(el) {\n  const obj = el.getBoundingClientRect();\n  const output = {\n    top: reMsrY(obj.top),\n    left: reMsrX(obj.left),\n    ogheight: reMsrY(obj.height),\n    ogwidth: reMsrX(obj.width),\n  };\n  output.topbot = output.top + output.ogheight;\n  output.leftright = output.left + output.ogwidth;\n  output.width = output.ogwidth + 1;\n  output.height = output.ogheight + 1;\n  return output;\n}\n\nfunction cmtRender(cmtContents) {\n  const cmtsNew = [];\n  const frag = $createFrag();\n  const length =\n    cmts.length > cmtContents.length ? cmts.length : cmtContents.length;\n  for (let i = 0; i < length; i++) {\n    const cmtContent = cmtContents[i];\n    const isWithinScroll = i > scrollTop;\n    if (cmts[i] && cmtContent) {\n      cmts[i].nodeValue = cmtContent.join('');\n      cmtsNew.push(cmts[i]);\n      isWithinScroll || cmts[i].remove();\n    } else if (cmtContent) {\n      const cmtNew = $createcomment(cmtContent.join(''));\n      isWithinScroll && frag.append(cmtNew);\n      cmtsNew.push(cmtNew);\n    } else if (cmts[i]) {\n      cmts[i].remove();\n    }\n  }\n  html.before(frag);\n  cmts = cmtsNew;\n}\n\nfunction cmtRenderScreen() {\n  if (window.scrollTop == undefined) {\n    return;\n  }\n  for (let y = 0; y < screenlength; y++) {\n    const fixedArr = window.fixedLayer?.[y];\n    const absArr = window.absoluteLayer?.[y + scrollTop];\n    const canvasArr =\n      canvasData[y + scrollTop]\n        ?.map((v, x) => {\n          let intensity = 0;\n          if (fixedArr?.[x]) {\n            if (fixedArr[x].intensity) {\n              intensity = fixedArr[x].intensity;\n            } else {\n              return fixedArr?.[x];\n            }\n          }\n          if (absArr?.[x]) {\n            return filterGrayRamp(absArr[x], intensity);\n          }\n          return filterGrayRamp(v, intensity);\n        })\n        .join('') || '';\n    cmts[y].nodeValue = canvasArr;\n  }\n}\n\nfunction filterGrayRamp(char, intensity) {\n  if (grayRampObj[char] == undefined || !intensity) {\n    return char;\n  }\n  let index = grayRampObj[char] - intensity;\n  return grayRamp[index] || grayRamp[0];\n}\n\nfunction drawFewRect(\n  data,\n  allRect,\n  rectArr,\n  rectchar = char.bg2,\n  isFinal = true,\n  { rx_, ry_ } = { rx_: rx, ry_: ry }\n) {\n  !rectArr && (rectArr = allRect.map((el) => getRect(el)));\n  for (let i = 0; i < rectArr.length; i++) {\n    const { leftright, topbot, left, top } = rectArr[i];\n    if (isLazy(!isFinal, top, topbot) || (top == 0 && topbot == 0)) {\n      continue;\n    }\n    for (let y = top; y <= topbot; y++) {\n      const line = data[y];\n      for (let x = left; x <= leftright; x++) {\n        if (checkRoundedRect(x, y, top, topbot, left, leftright, rx_, ry_)) {\n          line && (line[x] = rectchar);\n        }\n      }\n    }\n  }\n}\n\nfunction drawRect(data, allRect, char_ = char.bg2) {\n  const rectArr = allRect.map((el) => getRect(el));\n  let rectCount = 0;\n  for (let y = 0; y < data.length; y++) {\n    const line = data[y];\n    for (let x = 0; x < line.length; x++) {\n      //\n      if (rectCount < rectArr.length) {\n        for (const rect of rectArr) {\n          if (rect.done) {\n            continue;\n          }\n          const { leftright, topbot, left, top } = rect;\n\n          if (checkRoundedRect(x, y, top, topbot, left, leftright, rx, ry)) {\n            line && (line[x] = char_);\n            if (y == topbot && x == leftright - rx) {\n              rect.done = true;\n              rectCount++;\n            }\n          }\n        }\n      }\n      //\n    }\n  }\n}\n\nfunction checkRoundedRect(x, y, top, topbot, left, leftright, rx, ry) {\n  if (\n    (y >= top && y <= topbot && x >= left + rx && x <= leftright - rx) ||\n    (y >= top + ry && y <= topbot - ry && x >= left && x <= leftright)\n  ) {\n    return true;\n  }\n  return false;\n  /*\n  if (isPointInOval(x, y, top + ry, left + rx)) {\n    return true;\n  } else if (isPointInOval(x, y, top + ry, leftright - rx)) {\n    return true;\n  } else if (isPointInOval(x, y, topbot - ry, left + rx)) {\n    return true;\n  } else if (isPointInOval(x, y, topbot - ry, leftright - rx)) {\n    return true;\n  }\n  function isPointInOval(x, y, centerX, centerY) {\n    // Calculate normalized distances\n    const dx = x - centerX;\n    const dy = y - centerY;\n\n    // Use the ellipse equation to check if the point is inside\n    return (dx * dx) / (rx * rx) + (dy * dy) / (ry * ry) <= 1;\n  }*/\n}\n\nfunction reMsrX(num) {\n  return Math.floor(num / scaleX);\n}\n\nfunction reMsrY(num) {\n  return Math.floor(num / scaleY);\n}\n\nasync function drawImg(\n  data,\n  allImg,\n  canvas2CanvasFunc = canvas2CanvasArr,\n  lazyLoad = false,\n  cacheKey = null,\n  isFinal = true\n) {\n  let returnobj;\n\n  if (!isFinal) {\n    drawFewRect(data, allImg, null, char.mouse);\n    return;\n  }\n\n  for (let i = 0; i < allImg.length; i++) {\n    const img = allImg[i];\n    const { leftright, topbot, left, top, width, height } = getRect(img);\n    const lazyKey = `${i}${leftright + topbot + left + top}${Math.random()\n      .toString(16)\n      .slice(2)}`;\n    lazyList[lazyKey] = lazyDrawImg;\n    await lazyDrawImg();\n    // eslint-disable-next-line no-inner-declarations\n    async function lazyDrawImg() {\n      if (isLazy(lazyLoad, top, topbot)) {\n        return;\n      }\n      delete lazyList[lazyKey];\n      //\n      let objectFit, isCover, containObj, ascii;\n      if (hasCache(cacheKey)) {\n        ({ objectFit, isCover, containObj, ascii } = getCache(cacheKey));\n      } else {\n        ({ objectFit } = getComputedStyle(img));\n        isCover = objectFit == 'cover';\n        ctx.clearRect(0, 0, imgcanvas.width, imgcanvas.height);\n        imgcanvas.width = width;\n        imgcanvas.height = height;\n        containObj = await image2Canvas(img, width, height, 0, isCover);\n        const grayScales = convertToGrayScales(\n          ctx,\n          imgcanvas.width,\n          imgcanvas.height\n        );\n        ascii = drawAscii(grayScales, imgcanvas.width);\n        setCache(cacheKey, {\n          objectFit,\n          isCover,\n          containObj,\n          ascii,\n        });\n      }\n      //\n      canvas2CanvasFunc(\n        top,\n        topbot,\n        left,\n        leftright,\n        data,\n        ascii,\n        0,\n        0,\n        isCover ? 0 : containObj.top,\n        isCover ? 0 : containObj.left\n      );\n      returnobj = {\n        top,\n        topbot,\n        left,\n        leftright,\n        maskTop: isCover ? 0 : containObj.top,\n        maskLeft: isCover ? 0 : containObj.left,\n      };\n      lazyLoad && console.log(`lazyload image successful`);\n    }\n  }\n  return returnobj;\n}\n\nasync function drawImgHome(data, allImg) {\n  const { top, left, topbot, leftright, width, height } = getRect(allImg[0].el);\n  if (width < 4 || height < 4) {\n    return;\n  }\n  const base = {\n    h: height,\n    w: width,\n  };\n\n  for (let igroup = 0; igroup < allImg.length; igroup++) {\n    imgsecs[igroup].ascii = {};\n    ctx.clearRect(0, 0, imgcanvas.width, imgcanvas.height);\n    const { group, el, lbtn, rbtn, idcascii, idc, hoverlayer, hoverchild } =\n      allImg[igroup];\n    imgcanvas.width = base.w * group.length;\n    imgcanvas.height = base.h;\n    // draw image\n    const { top, left, topbot, leftright, width, height } = getRect(el);\n    const lazyKey = `${igroup}${leftright + topbot + left + top}${Math.random()\n      .toString(16)\n      .slice(2)}`;\n    lazyList[lazyKey] = lazyDrawImg;\n    await lazyDrawImg();\n    // eslint-disable-next-line no-inner-declarations\n    async function lazyDrawImg() {\n      if (top >= scrollTop + screenlength || topbot <= scrollTop) {\n        return;\n      }\n      delete lazyList[lazyKey];\n      for (let iimg = 0; iimg < group.length; iimg++) {\n        const img = group[iimg];\n        const { objectFit } = getComputedStyle(img);\n        await image2Canvas(\n          img,\n          base.w,\n          base.h,\n          base.w * iimg,\n          objectFit == 'cover'\n        );\n      }\n      const grayScales = convertToGrayScales(\n        ctx,\n        imgcanvas.width,\n        imgcanvas.height\n      );\n      const ascii = drawAscii(grayScales, imgcanvas.width);\n      canvas2CanvasArr(\n        top,\n        topbot,\n        left,\n        leftright,\n        data,\n        ascii,\n        (curs[igroup].value - 1) * base.w\n      );\n      imgsecs[igroup].ascii.arr = ascii;\n      console.log('lazyload image successful');\n    }\n    // lbtn\n    drawAbs(lbtn, char.lbtn);\n    // rbtn\n    drawAbs(rbtn, char.rbtn);\n    // idc\n    drawAbs(idc, idcascii);\n    // hover\n    const hoverrect = getRect(hoverchild);\n    imgsecs[igroup].isHover &&\n      drawFewRect(window.absoluteLayer, [hoverchild], [hoverrect]);\n    imgsecs[igroup].isHover && drawTxt(window.absoluteLayer, [hoverchild]);\n    imgsecs[igroup].hoverrect = hoverrect;\n    imgsecs[igroup].hoverchild = hoverchild;\n    // send to window\n    imgsecs[igroup].ascii = {\n      top,\n      topbot,\n      left,\n      leftright,\n      baseW: base.w,\n      ...imgsecs[igroup].ascii,\n    };\n  }\n  //\n}\n\nfunction drawAbs(btn, ascii) {\n  const { top, left } = getRect(btn);\n  canvas2CanvasArrNoMask(\n    top,\n    top + ascii.length - 1,\n    left,\n    left + ascii[0].length - 1,\n    window.absoluteLayer,\n    ascii\n  );\n}\n\nfunction convertToGrayScales(context, width, height) {\n  const imageData = context.getImageData(0, 0, width, height);\n  const contrast = 1.2; //convert to decimal & shift range: [0..2]\n  const intercept = 128 * (1 - contrast);\n  const grayScales = [];\n\n  for (let i = 0; i < imageData.data.length; i += 4) {\n    const r = imageData.data[i] * contrast + intercept;\n    const g = imageData.data[i + 1] * contrast + intercept;\n    const b = imageData.data[i + 2] * contrast + intercept;\n\n    const grayScale = toGrayScale(r, g, b);\n    imageData.data[i] =\n      imageData.data[i + 1] =\n      imageData.data[i + 2] =\n        grayScale;\n\n    grayScales.push(grayScale);\n  }\n\n  // context.putImageData(imageData, 0, 0);\n\n  return grayScales;\n}\n\nfunction toGrayScale(r, g, b) {\n  const v = 0.21 * r + 0.72 * g + 0.07 * b;\n  return v < 0 ? 0 : v > 255 ? 255 : v;\n}\n\nfunction drawAscii(grayScales, width) {\n  const ascii = [[]];\n  for (let i = 0; i < grayScales.length; i++) {\n    const grayScale = grayScales[i];\n    const nextChars = getCharacterForGrayScale(grayScale);\n    ascii[ascii.length - 1].push(nextChars);\n    if ((i + 1) % width === 0) {\n      ascii.push([]);\n    }\n  }\n  return ascii;\n}\n\nfunction getCharacterForGrayScale(grayScale) {\n  return grayRamp[Math.ceil(((rampLength - 1) * grayScale) / 255)];\n}\n\nfunction drawTxt(data, allTxt, isFinal = true) {\n  for (let i = 0; i < allTxt.length; i++) {\n    const txt = allTxt[i];\n    let { top, left, ogwidth, topbot } = getRect(txt);\n    if (isLazy(!isFinal, top, topbot)) {\n      continue;\n    }\n    let {\n      display,\n      textAlign,\n      paddingLeft: pl,\n      paddingRight: pr,\n      paddingTop: pt,\n      paddingBottom: pb,\n    } = getComputedStyle(txt);\n    const content = txt.innerText.trim();\n    if (display == 'none' || content == '') {\n      continue;\n    }\n    let arrcontent = content.split('\\n');\n    pl = reMsrX(+pl.slice(0, -2));\n    pr = reMsrX(+pr.slice(0, -2));\n    pt = reMsrY(+pt.slice(0, -2));\n    pb = reMsrY(+pb.slice(0, -2));\n    const output = [];\n    top += pt + 1;\n    left += pl;\n    ogwidth -= pl + pr;\n    if (ogwidth < 1) {\n      continue;\n    }\n    for (let k = 0; k < arrcontent.length; k++) {\n      let content = arrcontent[k];\n      while (content.length > 0) {\n        let extracted = content.slice(0, ogwidth);\n        content = content.slice(ogwidth);\n        if (content.length > 0 && content[0] != ` `) {\n          for (let i = extracted.length - 1; i >= 0; i--) {\n            if (extracted[i] == ` `) {\n              content = extracted.slice(i) + content;\n              extracted = extracted.slice(0, i);\n              break;\n            }\n          }\n        }\n        extracted = extracted.trim();\n        content = content.trim();\n        if (textAlign == 'center') {\n          extracted = `${extracted}${\n            output.length == topbot - top && content.length > 0 ? '…' : ''\n          }`;\n          let rest = (ogwidth - extracted.length) / 2;\n          rest = rest > 0 ? rest : 0;\n          extracted = `${` `.repeat(Math.ceil(rest))}${extracted}${` `.repeat(\n            Math.floor(rest)\n          )}`;\n        }\n        output.push(extracted);\n        if (output.length > topbot - top) {\n          break;\n        }\n      }\n    }\n    for (let y = top; y < top + output.length; y++) {\n      const yo = y - top;\n      const line = output[yo];\n      for (let x = left; x < left + line.length; x++) {\n        if (data[y]) {\n          let char = output[yo]?.[x - left] || data[y][x];\n          char = char == ` ` ? data[y][x] : char;\n          data[y][x] = char;\n        } else {\n          console.log(y, x);\n        }\n      }\n    }\n\n    // console.log(display, lineHeight, textAlign);\n    // console.log(txt, rect.ogheight);\n    // console.log(txt, style['display'], style['font-size'], style['text-align']);\n  }\n}\n\nfunction image2Canvas(img, cW, cH, posX = 0, isCover = true) {\n  return new Promise((resolve) => {\n    const image = new Image();\n    image.onload = () => {\n      const scaleFactor = Math[isCover ? 'max' : 'min'](\n        cW / image.width,\n        cH / (image.height / hratio)\n      );\n      const dWidth = image.width * scaleFactor;\n      const dHeight = (image.height / hratio) * scaleFactor;\n      const x = cW / 2 - dWidth / 2;\n      const y = cH / 2 - dHeight / 2;\n\n      const sx = Math.abs(x / scaleFactor);\n      const sy = Math.abs(y / scaleFactor) * hratio;\n      const sWidth = image.width;\n      const sHeight = image.height;\n\n      ctx.fillStyle = '#e3e3ca';\n      ctx.fillRect(posX + 0, 0, cW, cH);\n\n      isCover\n        ? ctx.drawImage(\n            image,\n            sx,\n            sy,\n            sWidth,\n            sHeight,\n            posX + 0,\n            0,\n            dWidth,\n            dHeight\n          )\n        : ctx.drawImage(image, posX + x, y, dWidth, dHeight);\n      resolve({\n        top: Math.round(y),\n        left: Math.round(posX + x),\n      });\n    };\n    image.crossOrigin = '';\n    image.src = img.src;\n  });\n}\n\nfunction canvas2CanvasArr(\n  top,\n  topbot,\n  left,\n  leftright,\n  data,\n  ascii,\n  offsetX = 0,\n  offsetY = 0\n) {\n  const intensityF = this.intensityF;\n  const charbg = this.charbg ?? char.bg2;\n  for (let y = top; y <= topbot; y++) {\n    for (let x = left; x <= leftright; x++) {\n      const newchar = ascii[y - top + offsetY]?.[x - left + offsetX];\n      if (data[y]?.[x] && data[y][x] == charbg && newchar) {\n        data[y][x] = intensityF ? filterGrayRamp(newchar, intensityF) : newchar;\n      } else {\n        // console.log(y, x, newchar, data[y][x]);\n      }\n    }\n  }\n  addOL(this.isOL, data, top, left, topbot, leftright);\n}\n\nfunction canvas2CanvasArrNoMask(\n  top,\n  topbot,\n  left,\n  leftright,\n  data,\n  ascii,\n  offsetX = 0,\n  offsetY = 0,\n  maskTop = 0,\n  maskLeft = 0\n) {\n  topbot -= maskTop;\n  leftright -= maskLeft;\n  const compTop = top + maskTop;\n  const compLeft = left + maskLeft;\n  for (let y = compTop; y <= topbot; y++) {\n    for (let x = compLeft; x <= leftright; x++) {\n      const newchar = ascii[y - top]?.[x - left];\n      if (data[y]?.[x] !== undefined && newchar) {\n        data[y][x] = newchar;\n      } else {\n        // console.log(y, x, newchar, data[y][x]);\n      }\n    }\n  }\n  addOL(this.isOL, data, compTop, compLeft, topbot, leftright);\n}\n\nfunction addOL(isOL, data, top, left, topbot, leftright) {\n  if (isOL) {\n    for (let y = top + 1; y <= topbot - 1; y++) {\n      data[y]?.[left] != char.bg && (data[y][left] = data[y][leftright] = '║');\n    }\n    for (let x = left + 1; x <= leftright - 1; x++) {\n      data[top]?.[x] != char.bg && (data[top][x] = data[topbot][x] = '═');\n    }\n    data[top]?.[left] != char.bg && (data[top][left] = '╔');\n    data[top]?.[leftright] != char.bg && (data[top][leftright] = '╗');\n    data[topbot]?.[left] != char.bg && (data[topbot][left] = '╚');\n    data[topbot]?.[leftright] != char.bg && (data[topbot][leftright] = '╝');\n  }\n}\n\nfunction clearRect(top, topbot, left, leftright, data, char) {\n  for (let y = top; y <= topbot; y++) {\n    for (let x = left; x <= leftright; x++) {\n      if (data[y]?.[x] !== undefined) {\n        data[y][x] = char;\n      } else {\n        // console.log(y, x, newchar, data[y][x]);\n      }\n    }\n  }\n}\n\nfunction calcMousePos(e) {\n  const mouseX = Math.floor(\n    (e.clientX * copy.clientWidth) / main.clientWidth / scaleX\n  );\n  const mouseY = Math.floor(\n    (e.clientY * copy.clientHeight) / main.clientHeight / scaleY\n  );\n  if (window.mouseX == mouseX && window.mouseY == mouseY) {\n    return false;\n  }\n  const obj = {\n    mouseX: window.mouseX,\n    mouseY: window.mouseY,\n  };\n  window.mouseX = mouseX;\n  window.mouseY = mouseY;\n  return obj;\n}\n\nfunction calcScrollTop() {\n  const actualScroll =\n    Math.floor(\n      (mainbody.scrollTop * (realh.clientHeight - innerHeight)) /\n        (realhmain.clientHeight - innerHeight) /\n        scaleY\n    ) || 0;\n  // console.log(mainbody.scrollTop, realhmain.clientHeight);\n  const scrollTop =\n    screenlength > canvasData.length - actualScroll\n      ? canvasData.length - screenlength\n      : actualScroll;\n  window.scrollTop = scrollTop <= 0 ? 0 : scrollTop;\n}\n\nfunction isLazy(lazyLoad, top, topbot) {\n  return (\n    lazyLoad &&\n    (top >= window.scrollTop + screenlength || topbot <= window.scrollTop)\n  );\n}\n"],"names":["char","rx","ry","allImg","cacheKey","top","left","topbot","leftright","width","height","allTxt","content","i","scrollTop"],"mappings":"AAGA,MAAM,OAAO,SAAS;AACtB,MAAM,OAAO,SAAS;AACtB,MAAM,OAAO,EAAE,MAAM;AACrB,MAAM,WAAW,EAAE,WAAW;AAC9B,MAAM,OAAO,EAAE,OAAO;AACtB,MAAM,YAAY,EAAE,UAAU;AAG9B,MAAM,KAAK;AACX,MAAM,KAAK;AACX,MAAM,MAAM,UAAU,WAAW,MAAM,EAAE,oBAAoB,KAAI,CAAE;AACnE,IAAI,YAAY;AAChB,MAAM,cAAc,OAAO,gBAAgB;AAC3C,MAAM,aAAa,OAAO,eAAe;AACzC,MAAM,SAAS,OAAO,MAAM,KAAK,OAAO,SAAS,KAAK,eAAe;AACrE,MAAM,SAAS,OAAO,aAAa;AACnC,MAAM,MAAM,WAAW,iBAAiB,SAAS,eAAe,EAAE,QAAQ;AAC1E,MAAM,SAAS;AACf,MAAM,SAAS;AACf,MAAM,SAAS,SAAS;AACxB,MAAM,aAAa,SAAS;AAC5B,IAAI,WAAW,CAAA;AACf,MAAM,OAAO;AAAA,EACX,IAAI;AAAA,EACJ,KAAK;AAAA,EACL,OAAO;AAAA;AAAA,EAEP,MAAM,aAAa;AAAA,IACjB;AAAA,IACA;AAAA,IACA;AAAA,EACJ,CAAG;AAAA;AAAA,EAED,MAAM,aAAa;AAAA,IACjB;AAAA,IACA;AAAA,IACA;AAAA,EACJ,CAAG;AAAA,EACD,KAAK;AAAA,EACL,OAAO;AAAA,EACP,SAAS;AACX;AACA,MAAM,WAAW;AAAA,EACf,MAAM,EAAE,MAAM,aAAa,SAAS,CAAA,EAAI;AAAA,EACxC,QAAQ,EAAE,MAAM,eAAgB;AAClC;AACA,IAAI,WAAW;AACf,MAAM,cAAc;AAAA,EAClB,GAAG,SAAS,MAAM,EAAE,EAAE,OAAO,CAAC,GAAG,GAAG,MAAM;AACxC,WAAO;AAAA,MACL,GAAG;AAAA,MACH,CAAC,CAAC,GAAG;AAAA,IACX;AAAA,EACG,GAAE,EAAE;AAAA,EACL,CAAC,KAAK,GAAG,GAAG,SAAS,SAAS;AAAA,EAC9B,CAAC,KAAK,EAAE,GAAG,SAAS,SAAS;AAC/B;AACA,MAAM,aAAa,SAAS;AAE5B,SAAS,aAAa,KAAK;AACzB,aAAW,KAAK,KAAK;AACnB,QAAI,CAAC,IAAI,IAAI,CAAC,EAAE,MAAM,EAAE;AACxB,eAAW,KAAK,IAAI,CAAC,GAAG;AACtB,UAAI,CAAC,EAAE,CAAC,KAAK,QAAQ,IAAI,CAAC,EAAE,CAAC,IAAI;AAAA,IAClC;AAAA,EACF;AACD,SAAO;AACT;AAEA,IAAI,eAAe;AACnB,IAAI,OAAO,CAAA;AACX,MAAM,aAAa,CAAA;AACnB,IAAI,eAAe;AAEnB,MAAM,eAAe,EAAE,iBAAiB;AACxC,MAAM,UAAU,EAAE,WAAW;AAC7B;AAEE,QAAM,WAAW;AACjB,aAAW,gBAAgB,KAAK,UAAU;AACxC,aAAS,YAAY,aAAa,UAAU,IAAI,CAAC;AAAA,EAClD;AACD,OAAK,YAAY,QAAQ;AAEzB;AAEA,MAAI,OAAO,SAAS,QAAQ,eAAe;AACzC,UAAM,KAAK,EAAE,mBAAmB;AAChC,QAAI,IAAI;AACN,mBAAa,SAAS;AAAA,QACpB,KAAK,GAAG,YAAY,QAAQ;AAAA,QAC5B,MAAM;AAAA,QACN,UAAU;AAAA,MAClB,CAAO;AAAA,IACF;AAAA,EACF;AACH;AAEA,SAAS,UAAU;AACjB,QAAM,kBAAkB,OAAO,WAAW;AAC1C,MAAI,oBAAoB,cAAc;AACpC,mBAAe;AACf,UAAM,UAAU;AAChB,SAAK,QAAQ,CAAC,QAAQ;AACpB,UAAI,OAAM;AAAA,IAChB,CAAK;AACD,WAAO,MAAM,KAAK,EAAE,QAAQ,aAAc,GAAE,MAAM;AAChD,YAAM,MAAM,eAAe,EAAE;AAC7B,cAAQ,OAAO,GAAG;AAClB,aAAO;AAAA,IACb,CAAK;AACD,SAAK,OAAO,OAAO;AAAA,EACpB;AACH;AAEA,SAAS,cAAc;AACrB,eAAa,SAAS;AAAA,IACpB,KAAK;AAAA,IACL,MAAM;AAAA,IACN,UAAU;AAAA,EACd,CAAG;AACH;AACA,MAAM,QAAQ,EAAE,mBAAmB;AACnC,MAAM,YAAY,EAAE,kBAAkB;AACtC,MAAM,MAAM,EAAE,qBAAqB;AACnC,MAAM,SAAS,CAAC,GAAG,GAAG,sBAAsB,CAAC;AAC7C,MAAM,SAAS;AAAA,EACb,GAAG,GAAG,2BAA2B;AAAA,EACjC,GAAG,GAAG,+BAA+B;AAAA,EACrC,GAAG,GAAG,qCAAqC;AAC7C;AACA,MAAM,YAAY,EAAE,kBAAkB;AACtC,MAAM,gBAAgB,EAAE,kBAAkB;AAC1C,MAAM,iBAAiB,GAAG,mBAAmB;AAC7C,MAAM,gBAAgB,CAAC,GAAG,GAAG,mBAAmB,CAAC;AACjD,MAAM,aAAa,MAAM,KAAK,eAAe,CAAC,IAAI,MAAM;AACtD,QAAM,MAAM,GAAG,mBAAmB,cAAc,YAAY;AAC5D,SAAO;AAAA,IACL;AAAA,IACA,OAAO,CAAC,GAAG,GAAG,iBAAiB,KAAK,CAAC;AAAA,IACrC,MAAM,GAAG,mBAAmB,cAAc,WAAW;AAAA,IACrD,MAAM,GAAG,mBAAmB,cAAc,WAAW;AAAA,IACrD;AAAA,IACA,YACE,eAAe,CAAC,EAAE,mBAAmB,cAAc,cAAc;AAAA,IACnE,YAAY,GAAG,mBAAmB,cAAc,cAAc;AAAA,IAC9D,UAAU,OAAO;AAAA,MACf,MAAM,IAAI,iBAAiB,EAAE,KAAK,CAAC,KAAK,KAAK,KAAK,KAAK,CAAC,EAAE,KAAM;AAAA,IACjE;AAAA,EACL;AACA,CAAC;AACD,MAAM,SAAS,CAAC,GAAG,GAAG,sCAAsC,CAAC;AAC7D,MAAM,aAAa,CAAC,GAAG,GAAG,sCAAsC,CAAC;AACjE,MAAM,SAAS;AAAA,EACb,GAAG,GAAG,4BAA4B;AAAA,EAClC,GAAG,GAAG,6CAA6C;AACrD;AACA,MAAM,aAAa,CAAC,GAAG,GAAG,gBAAgB,CAAC;AAC3C,MAAM,eAAe;AAAA,EACnB,KAAK,CAAC,GAAG,GAAG,2CAA2C,CAAC;AAAA,EACxD,IAAI,EAAE,qCAAqC;AAAA,EAC3C,KAAK,CAAC,GAAG,GAAG,sCAAsC,CAAC;AACrD;AACA,MAAM,WAAW,CAAC,GAAG,GAAG,uBAAuB,CAAC;AAChD,MAAM,WAAW,SAAS,IAAI,CAAC,OAAO,GAAG,sBAAsB;AAC/D,MAAM,WAAW;AAAA,EACf,SAAS,EAAE,8BAA8B;AAAA,EACzC,MAAM,EAAE,2BAA2B;AACrC;AACA,SAAS,WACP,SAAS,SACR,eAAe,QAAQ,UAAU,KAAK,SACnC,eAAgB,IAChB,eAAe,IAAI;AACzB,SAAS,eAAe,WAAW;AACjC,WAAS,QAAQ,UAAU,OAAO,aAAa,SAAS;AACxD,WAAS,KAAK,UAAU,OAAO,aAAa,CAAC,SAAS;AACtD,WAAS,QAAQ,CAAC,MAAM,EAAE,UAAU,OAAO,UAAU,CAAC,SAAS,CAAC;AAChE,WAAS,QAAQ,CAAC,MAAM,EAAE,UAAU,OAAO,UAAU,SAAS,CAAC;AAC/D,iBAAe,QAAQ,YAAY,YAAY,YAAY,MAAM;AACjE;AACF;AAEA;AACA,OAAO,SAAS;AAChB,WAAW;AAAA,EACT,SAAU,SAAS;AACjB,eAAW,kBAAiB;AAC5B,kBAAc,OAAO;AAAA,EACtB;AAAA,EACD;AAAA,EACA;AACF;AAEA,SAAS,SAAS,IAAI,IAAI,IAAI;AAC5B,MAAI,IAAI;AACN,KAAC,GAAG,EAAE,MAAM,GAAG,EAAE,IAAI;AAAA,EACzB,OAAS;AACL,OAAG,EAAE,MAAM,GAAG,EAAE,IAAI;AAAA,EACrB;AACH;AAEA,SAAS,UAAU,GAAG;AACpB,MAAI,cAAc;AAChB;AAAA,EACD;AACD,QAAM,cAAc,aAAa,CAAC;AAClC,MAAI,CAAC,eAAe,OAAO,aAAa,QAAW;AACjD;AAAA,EACD;AACD,QAAM,EAAE,QAAQ,KAAK,QAAQ,IAAG,IAAK;AACrC,MAAI,OAAO,QAAW;AACpB,UAAMA,SAAQ,MAAM;AAvNxB;AAwNM,UAAI,YAAY;AAChB,YAAM,YAAW,YAAO,eAAP,mBAAoB;AACrC,UAAI,qCAAW,MAAM;AACnB,YAAI,SAAS,GAAG,EAAE,WAAW;AAC3B,sBAAY,SAAS,GAAG,EAAE;AAAA,QACpC,OAAe;AACL,iBAAO,qCAAW;AAAA,QACnB;AAAA,MACF;AACD,YAAM,UAAS,YAAO,kBAAP,mBAAuB,MAAM;AAC5C,UAAI,iCAAS,MAAM;AACjB,eAAO,eAAe,OAAO,GAAG,GAAG,SAAS;AAAA,MAC7C;AACD,YAAM,aAAY,gBAAW,MAAM,SAAS,MAA1B,mBAA8B;AAChD,aAAO,YAAY,eAAe,WAAW,SAAS,IAAI;AAAA,IAChE;AAEI,gBAAYA,OAAM,KAAK,GAAG;AAAA,EAC3B;AAED,cAAY,KAAK,OAAO,OAAO,QAAQ,OAAO,MAAM;AAEpD,WAAS,YAAYA,OAAM,GAAG,GAAG;AA9OnC;AA+OI,UAAM,WAAU,UAAK,CAAC,MAAN,mBAAS;AACzB,eACE,IAAI,QAAQ,WACX,KAAK,CAAC,EAAE,YAAY,GAAG,QAAQ,MAAM,GAAG,CAAC,CAAC,GAAGA,KAAI,GAAG,QAAQ;AAAA,MAC3D,IAAI;AAAA,IACL,CAAA;AAAA,EACJ;AACH;AAEA,eAAe,mBAAmB;AAChC,MAAI,cAAc;AAChB;AAAA,EACD;AACD;AACA,aAAW,KAAK,UAAU;AACxB,UAAM,SAAS,CAAC;EACjB;AACD;AACF;AAEA,SAAS,WAAW,GAAG;AAnQvB;AAoQE,MAAI,GAAC,YAAO,YAAP,mBAAiB,OAAM,cAAc;AACxC;AAAA,EACD;AACD,QAAM,EAAE,YAAY,UAAS,IAAK,OAAO,QAAQ,CAAC;AAClD,SAAO,QAAQ,CAAC,EAAE,UAAU;AAC5B,cAAY,OAAO,eAAe,CAAC,UAAU,GAAG,CAAC,SAAS,CAAC;AAC3D,UAAQ,OAAO,eAAe,CAAC,UAAU,CAAC;AAC1C;AACF;AAEA,SAAS,WAAW,GAAG;AA9QvB;AA+QE,MAAI,GAAC,YAAO,YAAP,mBAAiB,KAAI;AACxB;AAAA,EACD;AACD,QAAM,EAAE,YAAY,UAAS,IAAK,OAAO,QAAQ,CAAC;AAClD,SAAO,QAAQ,CAAC,EAAE,UAAU;AAC5B,cAAY,OAAO,eAAe,CAAC,UAAU,GAAG,CAAC,SAAS,GAAG,IAAI;AACjE;AACF;AAEA,IAAI,QAAQ;AA+CV,MAAS,QAAT,SAAe,GAAG,KAAK,QAAQ,QAAQ;AACrC,QAAI,IAAI,UAAU,QAAQ;AACxB,cAAQ,CAAC,EAAE,aAAa,WAAW,UAAU,CAAC;AAC9C,cAAQ,CAAC,EAAE,aAAa,UAAU,UAAU,MAAM;AAClD,iBAAW,CAAC,EAAE,IAAI,QAAQ,CAAC,EAAE,UAAU,IAAI,YAAY;AACvD,iBAAW,CAAC,EAAE,SAAS,CAAC,EAAE,UAAU,OAAO,YAAY;AACvD,kBAAY,CAAC,EAAE,MAAM,YAAY,gBAAgB,SAAS,KAAK,GAAG;AAElE,UAAI,QAAQ;AAAA,IACb;AAAA,EACF;AAxDD,UAAQ,IAAI,WAAW;AAEvB,QAAM,cAAc,GAAG,4BAA4B;AACnD,SAAO,UAAU,GAAG,wBAAwB;AAC5C,QAAM,WAAW,GAAG,yBAAyB;AAC7C,QAAM,aAAa,CAAA;AACnB,SAAO,OAAO;AAEd,MAAI,UAAU;AACd,MAAI,UAAU;AAad,UAAQ,QAAQ,CAAC,IAAI,MAAM;AACzB,UAAM,aAAa,YAAY,CAAC;AAChC,UAAM,SAAS,WAAW;AAC1B,eAAW,KAAK,QAAQ,CAAC,EAAE,iBAAiB,eAAe,CAAC;AAC5D,SAAK,KAAK,EAAE,OAAO,EAAG,CAAA;AACtB,QAAI,MAAM,KAAK,CAAC;AAMhB,OAAG,iBAAiB,SAAS,SAAU,EAAE,OAAM,GAAI;AACjD,gBAAU;AACV,UAAI,SAAS,IAAI;AACjB,UAAI,OAAO,QAAQ,OAAO,GAAG;AAC3B,iBAAS,UAAU,IAAI,IAAI,SAAS;AAAA,MACrC,WAAU,OAAO,QAAQ,OAAO,GAAG;AAClC,iBAAS,UAAU,SAAS,SAAS,SAAS;AAAA,MAC/C;AACD,aAAO,WAAW,WAAW,GAAG,SAAS,GAAG,IAAI,QAAQ,GAAG,GAAG;AAC9D,YAAM,GAAG,KAAK,QAAQ,MAAM;AAAA,IAClC,CAAK;AAAA,EACL,CAAG;AAaH,WAAW,QAAQ;AACjB,UAAQ,IAAI,kBAAkB;AAC9B,QAAM,aAAa,CAAA;AACnB;AACE,UAAM,OAAO;AACb,eAAW,OAAO,QAAQ;AACxB,YAAM,MAAM,QAAQ,KAAK;AACzB,YAAM,UAAU,IAAI,UAAU,IAAI;AAClC,iBAAW,KAAK,OAAO;AACvB,UAAI,YAAY,OAAO;AACvB,WAAK,YAAY,GAAG;AAAA,IACrB;AACD,cAAU,YAAY,IAAI;AAAA,EAC3B;AACD;AACE,UAAM,OAAO;AACb,QAAI,WAAW;AAEf,kBAAc,UAAU,MAAM;AAC5B,aAAO,MAAM,IAAI;AAAA,IACvB;AACI,eAAW,KAAK,YAAY;AAC1B,YAAM,MAAM,WAAW,CAAC;AACxB,YAAM,MAAM,QAAQ,KAAK;AACzB,YAAM,UAAU,IAAI,UAAU,IAAI;AAClC,UAAI,OAAO,WAAW,CAAC;AACvB,YAAM,eAAe,GAAG,SAAS,KAAK,IAAI,IAAI,CAAC;AAC/C,eAAS,KAAK,QAAQ,KAAK,YAAY;AACvC,UAAI,UAAU,MAAM;AAClB,eAAO,IAAI,MAAM,SAAS,YAAY;AAAA,MAC9C;AACM,UAAI,YAAY,OAAO;AACvB,WAAK,YAAY,GAAG;AAAA,IACrB;AACD,kBAAc,YAAY,IAAI;AAE9B,mBAAe,OAAO,cAAc,mBAAmB,KAAK;AAC1D,4BAAsB,WAAW;AACjC,oBAAc,UAAU,eAAe,QAAQ,QAAQ,EAAE,MAAM;AAC/D,eAAS,MAAM,aAAa,eAAe,YAAY;AACvD,aAAO,eAAe;AACtB,UAAI,CAAC,cAAc;AACjB,cAAM,kBAAkB,eAAe,IAAI,MAAM,GAAG;AACpD;MACD;AAAA,IACF;AAAA,EACF;AACH;AAEA,eAAe,kBAAkB,YAAY,GAAG,KAAK,UAAU,MAAM;AACnE,QAAM,KAAK,YACP;AAAA,IACE,WAAW;AAAA,EACZ,IACD;AACJ,SAAO,aAAa,MAAM;AAAA,IAAK,EAAE,QAAQ;IAAgB,MACvD,MAAM,KAAK,EAAE,QAAQ,OAAO,WAAW,CAAC,EAAE,UAAU,MAAM,EAAE;AAAA,EAChE;AACE,QAAM,QAAQ,WAAW,OAAO;AAChC,gBACG,OAAO,YAAY,MAAM;AAAA,IACxB,OAAO;AAAA,IACP,CAAC,OAAO,YAAY;AAAA,IACpB,uBAAuB,KAAK,EAAE,MAAM,KAAI,CAAE;AAAA,IAC1C;AAAA,IACA;AAAA,IACA;AAAA,EACN;AACA;AAEA,SAAS,iBAAiB;AACxB,MAAI,OAAO,UAAU;AACnB,WAAO,SAAQ;AAAA,EAChB;AACH;AAEA,SAAS,WAAW,GAAG,QAAQ,SAAS,MAAM;AAC5C;AACA,MAAI,OAAO;AACX,MAAI,CAAC,QAAQ,CAAC,EAAE,SAAS,QAAQ,UAAU,WAAW,CAAC,QAAQ,CAAC,EAAE,MAAM,KAAK;AAC3E;AAAA,EACD;AACD,QAAM,SAAS;AACf,MAAI,EAAE,KAAK,QAAQ,MAAM,WAAW,KAAK,OAAO,MAAK,IAAK,QAAQ,CAAC,EAAE;AAErE,QAAM,MAAM,OAAO;AACnB,MAAI,QAAQ;AACZ,MAAI,YAAY,sBAAsB,SAAS;AAC/C,iBAAe,UAAU,KAAK;AA1ahC;AA2aI,UAAM,aAAa,KAAK;AAAA,MACtB,SAAS,OAAO,GAAG,KAAK,SAAS,QAAQ,SAAS,IAAI;AAAA,IAC5D;AACI,aAAS,IAAI,KAAK,KAAK,QAAQ,KAAK;AAClC,eAAS,IAAI,MAAM,KAAK,WAAW,KAAK;AACtC,YAAI,WAAU,gBAAW,CAAC,MAAZ,mBAAgB;AAC9B,oBAAY,KAAK,MACf,YACC,YAAU,WAAM,IAAI,GAAG,MAAb,mBAAiB,IAAI,OAAO,gBAAe;AACxD,mBAAW,CAAC,EAAE,CAAC,IAAI;AAAA,MACpB;AAAA,IACF;AACD;AACA;AACA,UAAM,KAAK,MAAM;AACjB,QAAI,CAAC,QAAQ,QAAQ,CAAC,EAAE,SAAS,SAAS,KAAK;AAC7C,kBAAY,sBAAsB,SAAS;AAAA,IAC5C;AAAA,EACF;AACD,SAAO,MAAM;AACX,WAAO;AAAA,EACX;AACA;AAEA,SAAS,SACP,OACA,OACA,OACA,QACA,QACA,iBAAiB,CAAC,MAAM,GACxB;AACA,MAAI,mBAAmB,QAAQ,UAAU,QAAQ;AACjD,MAAI,aAAa,eAAe,eAAe;AAC/C,SAAO,cAAc,SAAS,UAAU;AAC1C;AAEA,SAAS,UAAU,GAAG;AACpB,SAAO,IAAI,MAAM,IAAI,IAAI,IAAI,IAAI,MAAM,IAAI,IAAI,KAAK;AACtD;AAEA,SAAS,iBAAiB,IAAI;AAC5B,QAAM,EAAE,aAAa,EAAG,IAAG;AAC3B,KAAG,YAAY,GAAG,IAAI,OAAO,QAAQ,EAAE,IAAI,IAAI,OAAO,OAAO,EAAE,IAC7D,IAAI,OAAO,OAAO,EACnB,IAAG,IAAI,MAAM,OAAO,EAAE,IAAI,IAAI,MAAM,OAAO,EAAE;AAChD;AAEA,eAAe,2BAA2B;AACxC,QAAM,oBAAoB,IAAI;AAC9B,MAAI,YAAY,SAAU,OAAO,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;AAC/D,QAAI,iBAAiB,kBAAkB;AACrC,UAAI,KAAK,KAAK,KAAK,IAAI;AACrB,cAAM,MAAM;AACZ,aAAK,MAAM,KAAK;AAChB,aAAK,MAAM,MAAM,MAAM;AAAA,MAC/B,OAAa;AACL,cAAM,MAAM;AACZ,aAAK,MAAM,KAAK;AAChB,aAAK,MAAM,MAAM,MAAM;AAAA,MACxB;AAAA,IACF;AACD,WAAO,kBAAkB,KAAK,KAAK,OAAO,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,EAAE;AAAA,EAC5E;AACE,aAAW;AACX,QAAM,QAAQ,KAAK,IAAI,aAAa,aAAa,KAAK,CAAC;AACvD,mBAAiB,IAAI;AACrB,OAAK,MAAM,QAAQ,GAAG,KAAK;AAC3B,mBAAiB,IAAI;AAErB,QAAM,SAAS;AAAA,IACb,GAAG,OAAO,KAAK;AAAA,IACf,GAAG,OAAO,MAAM,YAAY;AAAA,EAChC;AACE,SAAO,OAAO,MAAM;AAAA,IAAK,EAAE,QAAQ,OAAO;IAAK,MAC7C,MAAM,KAAK,EAAE,QAAQ,OAAO,KAAK,MAAM,KAAK,EAAE;AAAA,EAClD;AACE,YAAU,QAAQ,OAAO;AACzB,YAAU,SAAS,OAAO;AAC1B,MAAI,YAAY;AAChB,MAAI,SAAS,GAAG,GAAG,OAAO,GAAG,OAAO,CAAC;AACrC,UAAQ,IAAI,OAAO,GAAG,OAAO,CAAC;AAC9B,QAAM,YAAY,OAAO;AAAA,IACvB,QAAQ;AAAA,IACR,OAAO,IAAI;AAAA,IACX,iBAAiB;AAAA,IACjB,OAAO,OAAO;AAAA,IACd,QAAQ,OAAO;AAAA,IACf,cAAc,cAAc;AAAA,EAChC,CAAG;AACD,QAAM,aAAa;AAAA,IACjB;AAAA,IACA,UAAU;AAAA,IACV,UAAU;AAAA,EACd;AACE,QAAM,QAAQ,UAAU,YAAY,UAAU,KAAK;AACnD,UAAQ,IAAI,KAAK;AAEjB,YAAU,KAAK;AACjB;AAEA,eAAe,cAAc,UAAU,MAAM;AAC3C,aAAW,CAAA;AACX;AACA,QAAM,QAAQ,KAAK,IAAI,aAAa,aAAa,KAAK,CAAC;AAEvD,MAAI,QAAQ,YAAY;AACtB,WAAO,aAAa,MAAM;AAAA,MAAK,EAAE,QAAQ;MAAgB,MACvD,oBAAoB,MAAM,EAAE;AAAA,IAClC;AACI,WAAO,aAAa,MAAM;AAAA,MAAK,EAAE,QAAQ;MAAgB,MACvD,MAAM,KAAK,EAAE,QAAQ,oBAAoB,OAAM,GAAI,MAAM,IAAI;AAAA,IACnE;AACI;AACA,mBAAe;AACf,aAAS,UAAU,YAAY,IAAI;AACnC,aAAS,UAAU,eAAe,IAAI;AACtC,eAAW,QAAQ,CAAC,EAAE,iBAAiB;AACrC,UAAI,CAAC,YAAY;AACf;AAAA,MACD;AACD,eAAS,YAAY,gBAAgB,IAAI;AACzC,eAAS,YAAY,gBAAgB,IAAI;AAAA,IAC/C,CAAK;AACD;AAAA,EACD;AACD;AACA,iBAAe;AACf,aAAW,QAAQ,IAAI,qBAAqB;AAC5C,OAAK,MAAM,QAAQ,GAAG,KAAK;AAC3B,mBAAiB,IAAI;AAErB,QAAM,SAAS;AAAA,IACb,GAAG,OAAO,KAAK;AAAA,IACf,GAAG,OAAO,MAAM,YAAY;AAAA,EAChC;AACE,SAAO,aAAa,MAAM;AAAA,IAAK,EAAE,QAAQ,OAAO;IAAK,MACnD,MAAM,KAAK,EAAE,QAAQ,OAAO,KAAK,MAAM,KAAK,EAAE;AAAA,EAClD;AACE,SAAO,gBAAgB,MAAM;AAAA,IAAK,EAAE,QAAQ,OAAO;IAAK,MACtD,MAAM,KAAK,EAAE,QAAQ,OAAO,KAAK,MAAM,KAAK,KAAK;AAAA,EACrD;AACE,SAAO,aAAa,MAAM;AAAA,IAAK,EAAE,QAAQ;IAAgB,MACvD,MAAM,KAAK,EAAE,QAAQ,OAAO,KAAK,MAAM,KAAK,KAAK;AAAA,EACrD;AACE,SAAO,aAAa,MAAM;AAAA,IAAK,EAAE,QAAQ,OAAO;IAAK,MACnD,MAAM,KAAK,EAAE,QAAQ,OAAO,KAAK,MAAM,KAAK,KAAK;AAAA,EACrD;AACE;AAGA,cAAY,OAAO,YAAY,QAAQ,MAAM,KAAK,KAAK,OAAO;AAE9D,cAAY,OAAO,YAAY,YAAY,MAAM,KAAK,SAAS,SAAS;AAAA,IACtE,KAAK;AAAA,IACL,KAAK;AAAA,EACT,CAAG;AAED,MAAI,SAAS;AACX,QAAI,QAAQ;AACV,YAAM,YAAY,OAAO,YAAY,UAAU;AAAA,IACrD,OAAW;AACL,YAAM;AAAA,QACJ,OAAO;AAAA,QACP;AAAA,QACA,iBAAiB,KAAK,EAAE,MAAM,KAAI,CAAE;AAAA,QACpC;AAAA,MACR;AAAA,IACK;AAAA,EACL,OAAS;AACL,QAAI,QAAQ;AACV,kBAAY,OAAO,YAAY,eAAe,MAAM,KAAK,OAAO,OAAO;AAAA,IAC7E,OAAW;AACL,kBAAY,OAAO,YAAY,QAAQ,MAAM,KAAK,OAAO,OAAO;AAAA,IACjE;AAAA,EACF;AAED,UAAQ,OAAO,YAAY,QAAQ,OAAO;AAE1C,aACE,SAAS,KAAK,QAAQ,QAAQ,CAAC,QAAQ;AACrC,gBAAY,GAAG;AAAA,EACrB,CAAK;AACH,aAAW,YAAY,SAAS,OAAO,IAAI;AAC3C,SAAO,OAAO,eACV,kBAAkB,GAAG,MAAM,OAAO,IAClC,QAAQ,MAAM,OAAO;AAEzB;AAEA,aAAW,SAAS,UAAU,YAAY,gBAAgB;AAC1D,aAAW,SAAS,UAAU,eAAe,SAAS;AACtD,aACE,WAAW,QAAQ,CAAC,EAAE,WAAU,GAAI,MAAM;AACxC,QAAI,CAAC,YAAY;AACf;AAAA,IACD;AACD,aAAS,YAAY,gBAAgB,MAAM,WAAW,CAAC,CAAC;AACxD,aAAS,YAAY,gBAAgB,MAAM,WAAW,CAAC,CAAC;AAAA,EAC9D,CAAK;AACL;AAEA,eAAe,QAAQ,YAAY,MAAM,UAAU,MAAM;AACvD,cAAY,OAAO,YAAY,CAAC,GAAG,CAAC;AACpC,UAAQ,OAAO,YAAY,MAAM;AACjC,MAAI,aAAa,IAAI;AACnB,UAAM,SAAS,eAAe,KAAK,KAAK,SAAS;AACjD,gBAAY,OAAO,YAAY,CAAC,aAAa,EAAE,GAAG,MAAM,QAAQ,OAAO;AACvE,YAAQ,OAAO,YAAY,aAAa,GAAG;AAC3C,UAAM,EAAE,QAAS,IAAG,iBAAiB,aAAa,IAAI,CAAC,EAAE,aAAa;AACtE,QAAI,WAAW,QAAQ;AACrB,YAAM;AAAA,QACJ,OAAO;AAAA,QACP,aAAa;AAAA,QACb,iBAAiB,KAAK,EAAE,MAAM,OAAO,YAAY,WAAW,QAAQ;AAAA,QACpE;AAAA,QACA,SAAS,OAAO;AAAA,QAChB;AAAA,MACR;AAAA,IACK;AAAA,EACF;AACH;AAEA,SAAS,QAAQ,IAAI;AACnB,QAAM,MAAM,GAAG;AACf,QAAM,SAAS;AAAA,IACb,KAAK,OAAO,IAAI,GAAG;AAAA,IACnB,MAAM,OAAO,IAAI,IAAI;AAAA,IACrB,UAAU,OAAO,IAAI,MAAM;AAAA,IAC3B,SAAS,OAAO,IAAI,KAAK;AAAA,EAC7B;AACE,SAAO,SAAS,OAAO,MAAM,OAAO;AACpC,SAAO,YAAY,OAAO,OAAO,OAAO;AACxC,SAAO,QAAQ,OAAO,UAAU;AAChC,SAAO,SAAS,OAAO,WAAW;AAClC,SAAO;AACT;AAEA,SAAS,UAAU,aAAa;AAC9B,QAAM,UAAU,CAAA;AAChB,QAAM,OAAO;AACb,QAAM,SACJ,KAAK,SAAS,YAAY,SAAS,KAAK,SAAS,YAAY;AAC/D,WAAS,IAAI,GAAG,IAAI,QAAQ,KAAK;AAC/B,UAAM,aAAa,YAAY,CAAC;AAChC,UAAM,iBAAiB,IAAI;AAC3B,QAAI,KAAK,CAAC,KAAK,YAAY;AACzB,WAAK,CAAC,EAAE,YAAY,WAAW,KAAK,EAAE;AACtC,cAAQ,KAAK,KAAK,CAAC,CAAC;AACpB,wBAAkB,KAAK,CAAC,EAAE,OAAM;AAAA,IACjC,WAAU,YAAY;AACrB,YAAM,SAAS,eAAe,WAAW,KAAK,EAAE,CAAC;AACjD,wBAAkB,KAAK,OAAO,MAAM;AACpC,cAAQ,KAAK,MAAM;AAAA,IACzB,WAAe,KAAK,CAAC,GAAG;AAClB,WAAK,CAAC,EAAE;IACT;AAAA,EACF;AACD,OAAK,OAAO,IAAI;AAChB,SAAO;AACT;AAEA,SAAS,kBAAkB;AAjrB3B;AAkrBE,MAAI,OAAO,aAAa,QAAW;AACjC;AAAA,EACD;AACD,WAAS,IAAI,GAAG,IAAI,cAAc,KAAK;AACrC,UAAM,YAAW,YAAO,eAAP,mBAAoB;AACrC,UAAM,UAAS,YAAO,kBAAP,mBAAuB,IAAI;AAC1C,UAAM,cACJ,gBAAW,IAAI,SAAS,MAAxB,mBACI,IAAI,CAAC,GAAG,MAAM;AACd,UAAI,YAAY;AAChB,UAAI,qCAAW,IAAI;AACjB,YAAI,SAAS,CAAC,EAAE,WAAW;AACzB,sBAAY,SAAS,CAAC,EAAE;AAAA,QACtC,OAAmB;AACL,iBAAO,qCAAW;AAAA,QACnB;AAAA,MACF;AACD,UAAI,iCAAS,IAAI;AACf,eAAO,eAAe,OAAO,CAAC,GAAG,SAAS;AAAA,MAC3C;AACD,aAAO,eAAe,GAAG,SAAS;AAAA,IAC5C,GACS,KAAK,QAAO;AACjB,SAAK,CAAC,EAAE,YAAY;AAAA,EACrB;AACH;AAEA,SAAS,eAAeA,OAAM,WAAW;AACvC,MAAI,YAAYA,KAAI,KAAK,UAAa,CAAC,WAAW;AAChD,WAAOA;AAAA,EACR;AACD,MAAI,QAAQ,YAAYA,KAAI,IAAI;AAChC,SAAO,SAAS,KAAK,KAAK,SAAS,CAAC;AACtC;AAEA,SAAS,YACP,MACA,SACA,SACA,WAAW,KAAK,KAChB,UAAU,MACV,EAAE,KAAK,QAAQ,EAAE,KAAK,IAAI,KAAK,GAAI,GACnC;AACA,GAAC,YAAY,UAAU,QAAQ,IAAI,CAAC,OAAO,QAAQ,EAAE,CAAC;AACtD,WAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;AACvC,UAAM,EAAE,WAAW,QAAQ,MAAM,QAAQ,QAAQ,CAAC;AAClD,QAAI,OAAO,CAAC,SAAS,KAAK,MAAM,KAAM,OAAO,KAAK,UAAU,GAAI;AAC9D;AAAA,IACD;AACD,aAAS,IAAI,KAAK,KAAK,QAAQ,KAAK;AAClC,YAAM,OAAO,KAAK,CAAC;AACnB,eAAS,IAAI,MAAM,KAAK,WAAW,KAAK;AACtC,YAAI,iBAAiB,GAAG,GAAG,KAAK,QAAQ,MAAM,WAAW,KAAK,GAAG,GAAG;AAClE,mBAAS,KAAK,CAAC,IAAI;AAAA,QACpB;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACH;AAEA,SAAS,SAAS,MAAM,SAAS,QAAQ,KAAK,KAAK;AACjD,QAAM,UAAU,QAAQ,IAAI,CAAC,OAAO,QAAQ,EAAE,CAAC;AAC/C,MAAI,YAAY;AAChB,WAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AACpC,UAAM,OAAO,KAAK,CAAC;AACnB,aAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AAEpC,UAAI,YAAY,QAAQ,QAAQ;AAC9B,mBAAW,QAAQ,SAAS;AAC1B,cAAI,KAAK,MAAM;AACb;AAAA,UACD;AACD,gBAAM,EAAE,WAAW,QAAQ,MAAM,IAAG,IAAK;AAEzC,cAAI,iBAAiB,GAAG,GAAG,KAAK,QAAQ,MAAM,WAAW,IAAI,EAAE,GAAG;AAChE,qBAAS,KAAK,CAAC,IAAI;AACnB,gBAAI,KAAK,UAAU,KAAK,YAAY,IAAI;AACtC,mBAAK,OAAO;AACZ;AAAA,YACD;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAA,IAEF;AAAA,EACF;AACH;AAEA,SAAS,iBAAiB,GAAG,GAAG,KAAK,QAAQ,MAAM,WAAWC,KAAIC,KAAI;AACpE,MACG,KAAK,OAAO,KAAK,UAAU,KAAK,OAAOD,OAAM,KAAK,YAAYA,OAC9D,KAAK,MAAMC,OAAM,KAAK,SAASA,OAAM,KAAK,QAAQ,KAAK,WACxD;AACA,WAAO;AAAA,EACR;AACD,SAAO;AAmBT;AAEA,SAAS,OAAO,KAAK;AACnB,SAAO,KAAK,MAAM,MAAM,MAAM;AAChC;AAEA,SAAS,OAAO,KAAK;AACnB,SAAO,KAAK,MAAM,MAAM,MAAM;AAChC;AAEA,eAAe,QACb,MACAC,SACA,oBAAoB,kBACpB,WAAW,OACXC,YAAW,MACX,UAAU,MACV;AACA,MAAI;AAEJ,MAAI,CAAC,SAAS;AACZ,gBAAY,MAAMD,SAAQ,MAAM,KAAK,KAAK;AAC1C;AAAA,EACD;AAED,WAAS,IAAI,GAAG,IAAIA,QAAO,QAAQ,KAAK;AACtC,UAAM,MAAMA,QAAO,CAAC;AACpB,UAAM,EAAE,WAAW,QAAQ,MAAM,KAAK,OAAO,OAAQ,IAAG,QAAQ,GAAG;AACnE,UAAM,UAAU,GAAG,CAAC,GAAG,YAAY,SAAS,OAAO,GAAG,GAAG,KAAK,OAAQ,EACnE,SAAS,EAAE,EACX,MAAM,CAAC,CAAC;AACX,aAAS,OAAO,IAAI;AACpB,UAAM,YAAW;AAEjB,mBAAe,cAAc;AAC3B,UAAI,OAAO,UAAU,KAAK,MAAM,GAAG;AACjC;AAAA,MACD;AACD,aAAO,SAAS,OAAO;AAEvB,UAAI,WAAW,SAAS,YAAY;AACpC,UAAI,SAASC,SAAQ,GAAG;AACtB,SAAC,EAAE,WAAW,SAAS,YAAY,UAAU,SAASA,SAAQ;AAAA,MACtE,OAAa;AACL,SAAC,EAAE,UAAS,IAAK,iBAAiB,GAAG;AACrC,kBAAU,aAAa;AACvB,YAAI,UAAU,GAAG,GAAG,UAAU,OAAO,UAAU,MAAM;AACrD,kBAAU,QAAQ;AAClB,kBAAU,SAAS;AACnB,qBAAa,MAAM,aAAa,KAAK,OAAO,QAAQ,GAAG,OAAO;AAC9D,cAAM,aAAa;AAAA,UACjB;AAAA,UACA,UAAU;AAAA,UACV,UAAU;AAAA,QACpB;AACQ,gBAAQ,UAAU,YAAY,UAAU,KAAK;AAC7C,iBAASA,WAAU;AAAA,UACjB;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,QACV,CAAS;AAAA,MACF;AAED;AAAA,QACE;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA,UAAU,IAAI,WAAW;AAAA,QACzB,UAAU,IAAI,WAAW;AAAA,MACjC;AACM,kBAAY;AAAA,QACV;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA,SAAS,UAAU,IAAI,WAAW;AAAA,QAClC,UAAU,UAAU,IAAI,WAAW;AAAA,MAC3C;AACM,kBAAY,QAAQ,IAAI,2BAA2B;AAAA,IACpD;AAAA,EACF;AACD,SAAO;AACT;AAEA,eAAe,YAAY,MAAMD,SAAQ;AACvC,QAAM,EAAE,KAAK,MAAM,QAAQ,WAAW,OAAO,OAAQ,IAAG,QAAQA,QAAO,CAAC,EAAE,EAAE;AAC5E,MAAI,QAAQ,KAAK,SAAS,GAAG;AAC3B;AAAA,EACD;AACD,QAAM,OAAO;AAAA,IACX,GAAG;AAAA,IACH,GAAG;AAAA,EACP;AAEE,WAAS,SAAS,GAAG,SAASA,QAAO,QAAQ,UAAU;AACrD,YAAQ,MAAM,EAAE,QAAQ;AACxB,QAAI,UAAU,GAAG,GAAG,UAAU,OAAO,UAAU,MAAM;AACrD,UAAM,EAAE,OAAO,IAAI,MAAM,MAAM,UAAU,KAAK,YAAY,WAAY,IACpEA,QAAO,MAAM;AACf,cAAU,QAAQ,KAAK,IAAI,MAAM;AACjC,cAAU,SAAS,KAAK;AAExB,UAAM,EAAE,KAAAE,MAAK,MAAAC,OAAM,QAAAC,SAAQ,WAAAC,YAAW,OAAAC,QAAO,QAAAC,QAAQ,IAAG,QAAQ,EAAE;AAClE,UAAM,UAAU,GAAG,MAAM,GAAGF,aAAYD,UAASD,QAAOD,IAAG,GAAG,KAAK,OAAQ,EACxE,SAAS,EAAE,EACX,MAAM,CAAC,CAAC;AACX,aAAS,OAAO,IAAI;AACpB,UAAM,YAAW;AAEjB,mBAAe,cAAc;AAC3B,UAAIA,QAAO,YAAY,gBAAgBE,WAAU,WAAW;AAC1D;AAAA,MACD;AACD,aAAO,SAAS,OAAO;AACvB,eAAS,OAAO,GAAG,OAAO,MAAM,QAAQ,QAAQ;AAC9C,cAAM,MAAM,MAAM,IAAI;AACtB,cAAM,EAAE,UAAS,IAAK,iBAAiB,GAAG;AAC1C,cAAM;AAAA,UACJ;AAAA,UACA,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK,IAAI;AAAA,UACT,aAAa;AAAA,QACvB;AAAA,MACO;AACD,YAAM,aAAa;AAAA,QACjB;AAAA,QACA,UAAU;AAAA,QACV,UAAU;AAAA,MAClB;AACM,YAAM,QAAQ,UAAU,YAAY,UAAU,KAAK;AACnD;AAAA,QACEF;AAAA,QACAE;AAAA,QACAD;AAAA,QACAE;AAAA,QACA;AAAA,QACA;AAAA,SACC,KAAK,MAAM,EAAE,QAAQ,KAAK,KAAK;AAAA,MACxC;AACM,cAAQ,MAAM,EAAE,MAAM,MAAM;AAC5B,cAAQ,IAAI,2BAA2B;AAAA,IACxC;AAED,YAAQ,MAAM,KAAK,IAAI;AAEvB,YAAQ,MAAM,KAAK,IAAI;AAEvB,YAAQ,KAAK,QAAQ;AAErB,UAAM,YAAY,QAAQ,UAAU;AACpC,YAAQ,MAAM,EAAE,WACd,YAAY,OAAO,eAAe,CAAC,UAAU,GAAG,CAAC,SAAS,CAAC;AAC7D,YAAQ,MAAM,EAAE,WAAW,QAAQ,OAAO,eAAe,CAAC,UAAU,CAAC;AACrE,YAAQ,MAAM,EAAE,YAAY;AAC5B,YAAQ,MAAM,EAAE,aAAa;AAE7B,YAAQ,MAAM,EAAE,QAAQ;AAAA,MACtB,KAAAH;AAAA,MACA,QAAAE;AAAA,MACA,MAAAD;AAAA,MACA,WAAAE;AAAA,MACA,OAAO,KAAK;AAAA,MACZ,GAAG,QAAQ,MAAM,EAAE;AAAA,IACzB;AAAA,EACG;AAEH;AAEA,SAAS,QAAQ,KAAK,OAAO;AAC3B,QAAM,EAAE,KAAK,KAAM,IAAG,QAAQ,GAAG;AACjC;AAAA,IACE;AAAA,IACA,MAAM,MAAM,SAAS;AAAA,IACrB;AAAA,IACA,OAAO,MAAM,CAAC,EAAE,SAAS;AAAA,IACzB,OAAO;AAAA,IACP;AAAA,EACJ;AACA;AAEA,SAAS,oBAAoB,SAAS,OAAO,QAAQ;AACnD,QAAM,YAAY,QAAQ,aAAa,GAAG,GAAG,OAAO,MAAM;AAC1D,QAAM,WAAW;AACjB,QAAM,YAAY,OAAO,IAAI;AAC7B,QAAM,aAAa,CAAA;AAEnB,WAAS,IAAI,GAAG,IAAI,UAAU,KAAK,QAAQ,KAAK,GAAG;AACjD,UAAM,IAAI,UAAU,KAAK,CAAC,IAAI,WAAW;AACzC,UAAM,IAAI,UAAU,KAAK,IAAI,CAAC,IAAI,WAAW;AAC7C,UAAM,IAAI,UAAU,KAAK,IAAI,CAAC,IAAI,WAAW;AAE7C,UAAM,YAAY,YAAY,GAAG,GAAG,CAAC;AACrC,cAAU,KAAK,CAAC,IACd,UAAU,KAAK,IAAI,CAAC,IACpB,UAAU,KAAK,IAAI,CAAC,IAClB;AAEJ,eAAW,KAAK,SAAS;AAAA,EAC1B;AAID,SAAO;AACT;AAEA,SAAS,YAAY,GAAG,GAAG,GAAG;AAC5B,QAAM,IAAI,OAAO,IAAI,OAAO,IAAI,OAAO;AACvC,SAAO,IAAI,IAAI,IAAI,IAAI,MAAM,MAAM;AACrC;AAEA,SAAS,UAAU,YAAY,OAAO;AACpC,QAAM,QAAQ,CAAC,CAAA,CAAE;AACjB,WAAS,IAAI,GAAG,IAAI,WAAW,QAAQ,KAAK;AAC1C,UAAM,YAAY,WAAW,CAAC;AAC9B,UAAM,YAAY,yBAAyB,SAAS;AACpD,UAAM,MAAM,SAAS,CAAC,EAAE,KAAK,SAAS;AACtC,SAAK,IAAI,KAAK,UAAU,GAAG;AACzB,YAAM,KAAK,CAAA,CAAE;AAAA,IACd;AAAA,EACF;AACD,SAAO;AACT;AAEA,SAAS,yBAAyB,WAAW;AAC3C,SAAO,SAAS,KAAK,MAAO,aAAa,KAAK,YAAa,GAAG,CAAC;AACjE;AAEA,SAAS,QAAQ,MAAMG,SAAQ,UAAU,MAAM;AA9gC/C;AA+gCE,WAAS,IAAI,GAAG,IAAIA,QAAO,QAAQ,KAAK;AACtC,UAAM,MAAMA,QAAO,CAAC;AACpB,QAAI,EAAE,KAAK,MAAM,SAAS,WAAW,QAAQ,GAAG;AAChD,QAAI,OAAO,CAAC,SAAS,KAAK,MAAM,GAAG;AACjC;AAAA,IACD;AACD,QAAI;AAAA,MACF;AAAA,MACA;AAAA,MACA,aAAa;AAAA,MACb,cAAc;AAAA,MACd,YAAY;AAAA,MACZ,eAAe;AAAA,IACrB,IAAQ,iBAAiB,GAAG;AACxB,UAAM,UAAU,IAAI,UAAU,KAAI;AAClC,QAAI,WAAW,UAAU,WAAW,IAAI;AACtC;AAAA,IACD;AACD,QAAI,aAAa,QAAQ,MAAM,IAAI;AACnC,SAAK,OAAO,CAAC,GAAG,MAAM,GAAG,EAAE,CAAC;AAC5B,SAAK,OAAO,CAAC,GAAG,MAAM,GAAG,EAAE,CAAC;AAC5B,SAAK,OAAO,CAAC,GAAG,MAAM,GAAG,EAAE,CAAC;AAC5B,SAAK,OAAO,CAAC,GAAG,MAAM,GAAG,EAAE,CAAC;AAC5B,UAAM,SAAS,CAAA;AACf,WAAO,KAAK;AACZ,YAAQ;AACR,eAAW,KAAK;AAChB,QAAI,UAAU,GAAG;AACf;AAAA,IACD;AACD,aAAS,IAAI,GAAG,IAAI,WAAW,QAAQ,KAAK;AAC1C,UAAIC,WAAU,WAAW,CAAC;AAC1B,aAAOA,SAAQ,SAAS,GAAG;AACzB,YAAI,YAAYA,SAAQ,MAAM,GAAG,OAAO;AACxC,QAAAA,WAAUA,SAAQ,MAAM,OAAO;AAC/B,YAAIA,SAAQ,SAAS,KAAKA,SAAQ,CAAC,KAAK,KAAK;AAC3C,mBAASC,KAAI,UAAU,SAAS,GAAGA,MAAK,GAAGA,MAAK;AAC9C,gBAAI,UAAUA,EAAC,KAAK,KAAK;AACvB,cAAAD,WAAU,UAAU,MAAMC,EAAC,IAAID;AAC/B,0BAAY,UAAU,MAAM,GAAGC,EAAC;AAChC;AAAA,YACD;AAAA,UACF;AAAA,QACF;AACD,oBAAY,UAAU;AACtB,QAAAD,WAAUA,SAAQ;AAClB,YAAI,aAAa,UAAU;AACzB,sBAAY,GAAG,SAAS,GACtB,OAAO,UAAU,SAAS,OAAOA,SAAQ,SAAS,IAAI,MAAM,EACxE;AACU,cAAI,QAAQ,UAAU,UAAU,UAAU;AAC1C,iBAAO,OAAO,IAAI,OAAO;AACzB,sBAAY,GAAG,IAAI,OAAO,KAAK,KAAK,IAAI,CAAC,CAAC,GAAG,SAAS,GAAG,IAAI;AAAA,YAC3D,KAAK,MAAM,IAAI;AAAA,UAChB,CAAA;AAAA,QACF;AACD,eAAO,KAAK,SAAS;AACrB,YAAI,OAAO,SAAS,SAAS,KAAK;AAChC;AAAA,QACD;AAAA,MACF;AAAA,IACF;AACD,aAAS,IAAI,KAAK,IAAI,MAAM,OAAO,QAAQ,KAAK;AAC9C,YAAM,KAAK,IAAI;AACf,YAAM,OAAO,OAAO,EAAE;AACtB,eAAS,IAAI,MAAM,IAAI,OAAO,KAAK,QAAQ,KAAK;AAC9C,YAAI,KAAK,CAAC,GAAG;AACX,cAAIZ,UAAO,YAAO,EAAE,MAAT,mBAAa,IAAI,UAAS,KAAK,CAAC,EAAE,CAAC;AAC9C,UAAAA,QAAOA,SAAQ,MAAM,KAAK,CAAC,EAAE,CAAC,IAAIA;AAClC,eAAK,CAAC,EAAE,CAAC,IAAIA;AAAA,QACvB,OAAe;AACL,kBAAQ,IAAI,GAAG,CAAC;AAAA,QACjB;AAAA,MACF;AAAA,IACF;AAAA,EAKF;AACH;AAEA,SAAS,aAAa,KAAK,IAAI,IAAI,OAAO,GAAG,UAAU,MAAM;AAC3D,SAAO,IAAI,QAAQ,CAAC,YAAY;AAC9B,UAAM,QAAQ,IAAI;AAClB,UAAM,SAAS,MAAM;AACnB,YAAM,cAAc,KAAK,UAAU,QAAQ,KAAK;AAAA,QAC9C,KAAK,MAAM;AAAA,QACX,MAAM,MAAM,SAAS;AAAA,MAC7B;AACM,YAAM,SAAS,MAAM,QAAQ;AAC7B,YAAM,UAAW,MAAM,SAAS,SAAU;AAC1C,YAAM,IAAI,KAAK,IAAI,SAAS;AAC5B,YAAM,IAAI,KAAK,IAAI,UAAU;AAE7B,YAAM,KAAK,KAAK,IAAI,IAAI,WAAW;AACnC,YAAM,KAAK,KAAK,IAAI,IAAI,WAAW,IAAI;AACvC,YAAM,SAAS,MAAM;AACrB,YAAM,UAAU,MAAM;AAEtB,UAAI,YAAY;AAChB,UAAI,SAAS,OAAO,GAAG,GAAG,IAAI,EAAE;AAEhC,gBACI,IAAI;AAAA,QACF;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA,OAAO;AAAA,QACP;AAAA,QACA;AAAA,QACA;AAAA,MACD,IACD,IAAI,UAAU,OAAO,OAAO,GAAG,GAAG,QAAQ,OAAO;AACrD,cAAQ;AAAA,QACN,KAAK,KAAK,MAAM,CAAC;AAAA,QACjB,MAAM,KAAK,MAAM,OAAO,CAAC;AAAA,MACjC,CAAO;AAAA,IACP;AACI,UAAM,cAAc;AACpB,UAAM,MAAM,IAAI;AAAA,EACpB,CAAG;AACH;AAEA,SAAS,iBACP,KACA,QACA,MACA,WACA,MACA,OACA,UAAU,GACV,UAAU,GACV;AAtpCF;AAupCE,QAAM,aAAa,KAAK;AACxB,QAAM,SAAS,KAAK,UAAU,KAAK;AACnC,WAAS,IAAI,KAAK,KAAK,QAAQ,KAAK;AAClC,aAAS,IAAI,MAAM,KAAK,WAAW,KAAK;AACtC,YAAM,WAAU,WAAM,IAAI,MAAM,OAAO,MAAvB,mBAA2B,IAAI,OAAO;AACtD,YAAI,UAAK,CAAC,MAAN,mBAAU,OAAM,KAAK,CAAC,EAAE,CAAC,KAAK,UAAU,SAAS;AACnD,aAAK,CAAC,EAAE,CAAC,IAAI,aAAa,eAAe,SAAS,UAAU,IAAI;AAAA,MACxE,OAAa;AAAA,MAEN;AAAA,IACF;AAAA,EACF;AACD,QAAM,KAAK,MAAM,MAAM,KAAK,MAAM,QAAQ,SAAS;AACrD;AAEA,SAAS,uBACP,KACA,QACA,MACA,WACA,MACA,OACA,UAAU,GACV,UAAU,GACV,UAAU,GACV,WAAW,GACX;AAjrCF;AAkrCE,YAAU;AACV,eAAa;AACb,QAAM,UAAU,MAAM;AACtB,QAAM,WAAW,OAAO;AACxB,WAAS,IAAI,SAAS,KAAK,QAAQ,KAAK;AACtC,aAAS,IAAI,UAAU,KAAK,WAAW,KAAK;AAC1C,YAAM,WAAU,WAAM,IAAI,GAAG,MAAb,mBAAiB,IAAI;AACrC,YAAI,UAAK,CAAC,MAAN,mBAAU,QAAO,UAAa,SAAS;AACzC,aAAK,CAAC,EAAE,CAAC,IAAI;AAAA,MACrB,OAAa;AAAA,MAEN;AAAA,IACF;AAAA,EACF;AACD,QAAM,KAAK,MAAM,MAAM,SAAS,UAAU,QAAQ,SAAS;AAC7D;AAEA,SAAS,MAAM,MAAM,MAAM,KAAK,MAAM,QAAQ,WAAW;AAnsCzD;AAosCE,MAAI,MAAM;AACR,aAAS,IAAI,MAAM,GAAG,KAAK,SAAS,GAAG,KAAK;AAC1C,kBAAK,CAAC,MAAN,mBAAU,UAAS,KAAK,OAAO,KAAK,CAAC,EAAE,IAAI,IAAI,KAAK,CAAC,EAAE,SAAS,IAAI;AAAA,IACrE;AACD,aAAS,IAAI,OAAO,GAAG,KAAK,YAAY,GAAG,KAAK;AAC9C,kBAAK,GAAG,MAAR,mBAAY,OAAM,KAAK,OAAO,KAAK,GAAG,EAAE,CAAC,IAAI,KAAK,MAAM,EAAE,CAAC,IAAI;AAAA,IAChE;AACD,gBAAK,GAAG,MAAR,mBAAY,UAAS,KAAK,OAAO,KAAK,GAAG,EAAE,IAAI,IAAI;AACnD,gBAAK,GAAG,MAAR,mBAAY,eAAc,KAAK,OAAO,KAAK,GAAG,EAAE,SAAS,IAAI;AAC7D,gBAAK,MAAM,MAAX,mBAAe,UAAS,KAAK,OAAO,KAAK,MAAM,EAAE,IAAI,IAAI;AACzD,gBAAK,MAAM,MAAX,mBAAe,eAAc,KAAK,OAAO,KAAK,MAAM,EAAE,SAAS,IAAI;AAAA,EACpE;AACH;AAEA,SAAS,UAAU,KAAK,QAAQ,MAAM,WAAW,MAAMA,OAAM;AAltC7D;AAmtCE,WAAS,IAAI,KAAK,KAAK,QAAQ,KAAK;AAClC,aAAS,IAAI,MAAM,KAAK,WAAW,KAAK;AACtC,YAAI,UAAK,CAAC,MAAN,mBAAU,QAAO,QAAW;AAC9B,aAAK,CAAC,EAAE,CAAC,IAAIA;AAAA,MACrB,OAAa;AAAA,MAEN;AAAA,IACF;AAAA,EACF;AACH;AAEA,SAAS,aAAa,GAAG;AACvB,QAAM,SAAS,KAAK;AAAA,IACjB,EAAE,UAAU,KAAK,cAAe,KAAK,cAAc;AAAA,EACxD;AACE,QAAM,SAAS,KAAK;AAAA,IACjB,EAAE,UAAU,KAAK,eAAgB,KAAK,eAAe;AAAA,EAC1D;AACE,MAAI,OAAO,UAAU,UAAU,OAAO,UAAU,QAAQ;AACtD,WAAO;AAAA,EACR;AACD,QAAM,MAAM;AAAA,IACV,QAAQ,OAAO;AAAA,IACf,QAAQ,OAAO;AAAA,EACnB;AACE,SAAO,SAAS;AAChB,SAAO,SAAS;AAChB,SAAO;AACT;AAEA,SAAS,gBAAgB;AACvB,QAAM,eACJ,KAAK;AAAA,IACF,SAAS,aAAa,MAAM,eAAe,gBACzC,UAAU,eAAe,eAC1B;AAAA,EACH,KAAI;AAEP,QAAMc,aACJ,eAAe,WAAW,SAAS,eAC/B,WAAW,SAAS,eACpB;AACN,SAAO,YAAYA,cAAa,IAAI,IAAIA;AAC1C;AAEA,SAAS,OAAO,UAAU,KAAK,QAAQ;AACrC,SACE,aACC,OAAO,OAAO,YAAY,gBAAgB,UAAU,OAAO;AAEhE;"}